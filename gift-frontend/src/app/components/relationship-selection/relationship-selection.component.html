<div class="selection-page-layout">
  <app-start-over />    
  <div class="main-content">
    <div class="selection-container">
      <h2>Who's the gift for?</h2>
      
      <div class="pills-container">
        <button 
          class="pill" 
          [class.selected]="selectedRelationship === 'friend'"
          (click)="selectRelationship('friend')">
          Friend
        </button>
        <button 
          class="pill" 
          [class.selected]="selectedRelationship === 'parent'"
          (click)="selectRelationship('parent')">
          Parent
        </button>
        <button 
          class="pill" 
          [class.selected]="selectedRelationship === 'partner'"
          (click)="selectRelationship('partner')">
          Partner
        </button>
        <button 
          class="pill" 
          [class.selected]="selectedRelationship === 'work colleague'"
          (click)="selectRelationship('work colleague')">
          Work Colleague
        </button>
        <button 
          class="pill" 
          [class.selected]="selectedRelationship === 'other'"
          (click)="selectRelationship('other')">
          Someone Else
        </button>
      </div>

      <form [formGroup]="relationshipForm" *ngIf="selectedRelationship === 'other'">
        <div class="input-container">
          <input 
            type="text" 
            formControlName="otherRelationship" 
            placeholder="Please specify their relationship to you">
        </div>
      </form>

      <div class="button-container">
        <button 
          class="next-button" 
          [disabled]="!selectedRelationship || (selectedRelationship === 'other' && !relationshipForm.get('otherRelationship')?.value)"
          (click)="onNext()">
          Next
        </button>
        <button 
          class="skip-button"
          (click)="onSkip()">
          Skip
        </button>
      </div>
    </div>
  </div>
  <app-selection-summary />
</div>
